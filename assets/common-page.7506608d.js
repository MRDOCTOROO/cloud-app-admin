var O=Object.defineProperty;var P=(s,e,t)=>e in s?O(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var H=(s,e,t)=>(P(s,typeof e!="symbol"?e+"":e,t),t);import{a as F,b as Z,c as K,d as U,f as j,g as q,h as X,j as G,k as Q,l as W,m as J,n as ee,o as te,p as ne,q as oe,r as re}from"./element-plus.c5a782c8.js";import{u as R,b as se}from"./vue-router.cd55c074.js";import{r as w,m as v,e as T,o as i,c as _,R as M,S as k,u as r,a as u,W as y,a4 as ae,a6 as B,P as f,Q as c,X as l,T as ie,F as b,V as S,k as V,a5 as le,K as Y,w as ce}from"./@vue.471b3eda.js";import{C as N,r as L,u as ue,U as _e,a as de,i as A}from"./index.b1ab9228.js";import{n as D,p as me,q as pe,s as he,v as ve}from"./@vueuse.5781ec6b.js";import{u as E}from"./vue-i18n.8a81c414.js";import{_ as C}from"./plugin-vue_export-helper.21dcd24c.js";import{n as fe,R as ge}from"./@element-plus.20a32ed7.js";import{E as xe,u as ye}from"./useMessage.12534f46.js";import{o as be}from"./web.1865b183.js";import{P as we}from"./index.8e27d9d8.js";import"./lodash-es.032e1c7e.js";import"./@popperjs.36402333.js";import"./@ctrl.82a509e0.js";import"./dayjs.fa2946e5.js";import"./axios.095b39ac.js";import"./async-validator.fb49d0f5.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.1c4ac15a.js";import"./@floating-ui.cba15af0.js";import"./vue-echarts.bafe5eb1.js";import"./resize-detector.4e96b72b.js";import"./echarts.031788f5.js";import"./tslib.60310f1a.js";import"./zrender.2c4f8a45.js";import"./pinia.cd725b69.js";import"./vue-demi.65474690.js";import"./xe-utils.a7d87cf6.js";/* empty css                     */import"./vxe-table.2b2c2c4d.js";import"./qs.d8de42ab.js";import"./side-channel.883eaff8.js";import"./get-intrinsic.89e72507.js";import"./has-symbols.caae0f97.js";import"./function-bind.cb3858f2.js";import"./has.c1051c46.js";import"./call-bind.b701f999.js";import"./object-inspect.3f4be82e.js";import"./js-cookie.31874410.js";import"./nprogress.50279e12.js";import"./@intlify.7ce2fd17.js";var $e="/cloud-app-admin/assets/logo.75b0cef0.png";class Me{constructor(){H(this,"menus",w([]));H(this,"history",D(N.HISTORY_MENU,[]));H(this,"route",w(null));H(this,"close",D(N.MENU_CLOSE_STATE,!1));this.menus.value=this.getMenuByRoute(),this.history.value=this.getHistoryMenu()}removeHistoryMenu(e){const t=this.history.value.indexOf(e);this.history.value.splice(t,1)}addHistoryMenu(e){var o,a;if(!((o=e.meta)!=null&&o.menu))return;this.route.value=e;const t={...(a=e.meta)==null?void 0:a.menu,route:e.name};this.history.value.some(p=>p.route==e.name)||this.history.value.unshift(t),this.history.value.length>10&&this.history.value.pop()}getHistoryMenu(){const e=[];return L.getRoutes().map(t=>e.push(...t.children)),this.history.value.filter(t=>e.some(n=>n.name==t.route))}getNestedMenuByRoute(e,t,n=""){var o;(o=e.children)==null||o.forEach(a=>{n!==""?n=`${n}-${a.title}`:n=`${e.title}-${a.title}`,t.set(a.route,n),a.children&&this.getNestedMenuByRoute(a,t,n)})}getCurrentMenu(e){const t=new Map;return this.menus.value.forEach(n=>{this.getNestedMenuByRoute(n,t)}),t.get(e.name)}linkPage(e){this.isExternalLink(e)?window.open(e.path):L.push({name:e.route})}isExternalLink(e){return!!e.path}toggleState(){this.close.value=!this.close.value}filterNestedMenu(e){return e.filter(t=>{var n;return(n=t.meta)==null?void 0:n.menu}).map(t=>{var n,o;if(t.children){const a=this.filterNestedMenu(t.children);return{...(n=t.meta)==null?void 0:n.menu,route:t.name,children:a}}return{...(o=t.meta)==null?void 0:o.menu,route:t.name}})}getMenuByRoute(){return L.getRoutes().filter(e=>e.children.length&&e.meta.menu&&!e.meta.menu.nested).map(e=>{var n;const t={...(n=e.meta)==null?void 0:n.menu};return t.children=this.filterNestedMenu(e.children),t}).filter(e=>{var t;return(t=e.children)==null?void 0:t.length})}}var d=new Me;const ke=u("div",{class:"w-10 ml-4"},[u("img",{src:$e,alt:"logo"})],-1),Ee={class:"flex-1 duration-500 ml-2 mr-1 w-[160px]"},Ce={class:"text-lg font-bold"},He=v({__name:"index",setup(s){const{t:e}=E(),t=T(()=>e("global_title"));return(n,o)=>(i(),_("div",{class:"flex align-center items-center py-2 w-[220px] cursor-pointer",onClick:o[0]||(o[0]=a=>n.$router.push("/"))},[ke,M(u("div",Ee,[u("span",Ce,y(r(t)),1)],512),[[k,!r(d).close.value]])]))}}),Se=v({__name:"MenuItem",props:{subMenu:{default:()=>[]},activeKey:{default:""}},setup(s){const e=s,{t}=E(),n=(o,a)=>e.activeKey===""?o.title+"-"+a.title:e.activeKey+"-"+a.title;return(o,a)=>{const p=F,g=ae("menu-item",!0),$=Z,h=K;return i(!0),_(b,null,B(e.subMenu,(m,z)=>(i(),f(h,{key:z,index:m.title},{title:c(()=>[l(p,null,{default:c(()=>[(i(),f(ie(m.icon)))]),_:2},1024),u("span",null,y(r(t)(m.title)),1)]),default:c(()=>[(i(!0),_(b,null,B(m.children,(x,I)=>(i(),_(b,null,[x.children?(i(),f(g,{key:"sub_ "+I,"active-key":m.title+"-"+x.title,"sub-menu":m.children},null,8,["active-key","sub-menu"])):(i(),f($,{key:I,index:n(m,x),onClick:zt=>r(d).linkPage(x)},{default:c(()=>[S(y(r(t)(x==null?void 0:x.title)),1)]),_:2},1032,["index","onClick"]))],64))),256))]),_:2},1032,["index"]))),128)}}});const Be={class:"flex justify-center"},Re=v({__name:"index",setup(s){const e=R(),t=w("");V(()=>{t.value=d.getCurrentMenu(e)});const n=T(()=>d.close.value);return(o,a)=>{const p=j;return i(),f(p,{class:Y(["admin-menu",{close:r(d).close.value}])},{default:c(()=>[u("div",Be,[l(He)]),l(r(U),{collapse:r(n),"default-active":t.value},{default:c(()=>[l(Se,{"sub-menu":r(d).menus.value},null,8,["sub-menu"])]),_:1},8,["collapse","default-active"]),(i(),f(le,{to:"body"},[M(u("div",{class:"bg block md:hidden",onClick:a[0]||(a[0]=(...g)=>r(d).toggleState&&r(d).toggleState(...g))},null,512),[[k,!r(d).close.value]])]))]),_:1},8,["class"])}}});var ze=C(Re,[["__scopeId","data-v-62a63cb1"]]);const Ie={class:"breadcrumb"},Le=v({__name:"index",setup(s){const e=R(),{t}=E(),n=w(""),o=w([]);return V(()=>{var a;n.value=d.getCurrentMenu(e),o.value=(a=n.value)==null?void 0:a.split("-")}),(a,p)=>{const g=q,$=X;return i(),_("div",Ie,[l($,{"separator-icon":r(fe)},{default:c(()=>[(i(!0),_(b,null,B(o.value,(h,m)=>(i(),f(g,{key:m},{default:c(()=>[S(y(r(t)(h)),1)]),_:2},1024))),128))]),_:1},8,["separator-icon"])])}}});var Ve=C(Le,[["__scopeId","data-v-2b474516"]]);const Ne={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ae=u("path",{fill:"currentColor",d:"M11 13h10v-2H11m0-2h10V7H11M3 3v2h18V3M3 21h18v-2H3m0-7l4 4V8m4 9h10v-2H11v2Z"},null,-1),De=[Ae];function Fe(s,e){return i(),_("svg",Ne,De)}var Te={name:"mdi-format-indent-decrease",render:Fe};const Ye=v({__name:"index",setup(s){return(e,t)=>{const n=Te;return i(),_("div",{class:"pr-3 cursor-pointer",onClick:t[0]||(t[0]=(...o)=>r(d).toggleState&&r(d).toggleState(...o))},[l(n,{class:Y([{"rotate-180":r(d).close.value},"duration-300"]),style:{"font-size":"1.5em"}},null,8,["class"])])}}}),Oe={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Pe=u("path",{fill:"currentColor",d:"m17.75 4.09l-2.53 1.94l.91 3.06l-2.63-1.81l-2.63 1.81l.91-3.06l-2.53-1.94L12.44 4l1.06-3l1.06 3l3.19.09m3.5 6.91l-1.64 1.25l.59 1.98l-1.7-1.17l-1.7 1.17l.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95l2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85c-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14c.4-.4.82-.76 1.27-1.08c.75-.53 1.93.36 1.85 1.19c-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82c-2.81 3.14-2.7 7.96.31 10.98c3.02 3.01 7.84 3.12 10.98.31Z"},null,-1),Ze=[Pe];function Ke(s,e){return i(),_("svg",Oe,Ze)}var Ue={name:"mdi-weather-night",render:Ke};const je={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},qe=u("path",{fill:"currentColor",d:"m3.55 19.09l1.41 1.41l1.8-1.79l-1.42-1.42M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6s6-2.69 6-6c0-3.32-2.69-6-6-6m8 7h3v-2h-3m-2.76 7.71l1.8 1.79l1.41-1.41l-1.79-1.8M20.45 5l-1.41-1.4l-1.8 1.79l1.42 1.42M13 1h-2v3h2M6.76 5.39L4.96 3.6L3.55 5l1.79 1.81l1.42-1.42M1 13h3v-2H1m12 9h-2v3h2"},null,-1),Xe=[qe];function Ge(s,e){return i(),_("svg",je,Xe)}var Qe={name:"mdi-white-balance-sunny",render:Ge};const We=v({__name:"index",setup(s){const e=me(),t=pe(e);return(n,o)=>{const a=Qe,p=Ue;return i(),_(b,null,[M(l(a,{class:"dark-mode text-gray-500",style:{"font-size":"1.6em"},onClick:o[0]||(o[0]=()=>r(t)())},null,512),[[k,!r(e)]]),M(l(p,{class:"dark-mode",style:{"font-size":"1.6em"},onClick:o[1]||(o[1]=()=>r(t)())},null,512),[[k,r(e)]])],64)}}});var Je=C(We,[["__scopeId","data-v-49678fa0"]]);function et(s,e,t){G.confirm(s,void 0,{customStyle:{width:xe.ELEMENT_MESSAGE_BOX_SIZE}}).then(()=>{e()}).catch(n=>{t&&t(n)})}const tt={class:"flex flex-col items-start"},nt={class:"font-sans dark:text-white text-gray-600 text-sm font-medium"},ot={class:"font-sans dark:text-white text-gray-500 text-sm"},rt=v({__name:"index",setup(s){const e=se(),t=ue(),{t:n}=E(),o=he(ve(),"YYYY-MM-DD HH:mm");function a(){et("\u662F\u5426\u786E\u8BA4\u9000\u51FA\u7CFB\u7EDF?",()=>{de(()=>{e.replace("/login"),ye("success","\u9000\u51FA\u6210\u529F")})})}return(p,g)=>{const $=Q,h=F,m=W,z=J,x=ee;return i(),_(b,null,[l($,{shape:"square",size:40,src:r(t).avatar},null,8,["src"]),u("div",tt,[u("span",nt,y(r(n)("hello")+r(t).name),1),u("span",ot,y(r(o)),1)]),l(x,null,{dropdown:c(()=>[l(z,null,{default:c(()=>[l(m,{onClick:g[0]||(g[0]=I=>r(be)(r(_e).GITHUB_REPOSITORY))},{default:c(()=>[S(y(r(n)("github")),1)]),_:1}),l(m,{onClick:a},{default:c(()=>[S(y(r(n)("logout")),1)]),_:1})]),_:1})]),default:c(()=>[l(h,{size:20,class:"ml-2 mt-[1px] hover:rotate-90 duration-500 cursor-pointer"},{default:c(()=>[l(r(ge))]),_:1})]),_:1})],64)}}}),st={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},at=u("path",{fill:"currentColor",d:"M14 14h5v2h-3v3h-2v-5m-9 0h5v5H8v-3H5v-2m3-9h2v5H5V8h3V5m11 3v2h-5V5h2v3h3Z"},null,-1),it=[at];function lt(s,e){return i(),_("svg",st,it)}var ct={name:"mdi-fullscreen-exit",render:lt};const ut={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},_t=u("path",{fill:"currentColor",d:"M5 5h5v2H7v3H5V5m9 0h5v5h-2V7h-3V5m3 9h2v5h-5v-2h3v-3m-7 3v2H5v-5h2v3h3Z"},null,-1),dt=[_t];function mt(s,e){return i(),_("svg",ut,dt)}var pt={name:"mdi-fullscreen",render:mt};function ht(){const s=w(!1),e=()=>{s.value?document.exitFullscreen():document.documentElement.requestFullscreen(),s.value=!s.value};return document.addEventListener("fullscreenchange",()=>{s.value=document.fullscreenElement!==null}),{isFullScreen:s,fullScreen:e}}const vt=v({__name:"index",setup(s){const{isFullScreen:e,fullScreen:t}=ht();return(n,o)=>{const a=pt,p=ct;return i(),_(b,null,[M(l(a,{class:"fullscreen",style:{"font-size":"1.6em"},onClick:o[0]||(o[0]=()=>r(t)())},null,512),[[k,!r(e)]]),M(l(p,{class:"fullscreen",style:{"font-size":"1.6em"},onClick:o[1]||(o[1]=()=>r(t)())},null,512),[[k,r(e)]])],64)}}});var ft=C(vt,[["__scopeId","data-v-3c9a7420"]]);const gt={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},xt=u("path",{fill:"currentColor",d:"M20 5h-9.12L10 2H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2h7l1 3h8a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2M7.17 14.59a4.09 4.09 0 0 1-4.09-4.09a4.09 4.09 0 0 1 4.09-4.09c1.04 0 1.99.37 2.74 1.09l.09.04l-1.25 1.18l-.06-.05c-.29-.27-.78-.59-1.52-.59c-1.31 0-2.38 1.09-2.38 2.42c0 1.33 1.07 2.42 2.38 2.42c1.37 0 1.96-.87 2.12-1.46H7.08V9.91h3.95l.01.09c.04.19.05.38.05.59c0 2.35-1.59 4-3.92 4m6.03-1.71c.33.62.74 1.18 1.19 1.7l-.54.53l-.65-2.23m.77-.76H13l-.33-1.04h3.99s-.34 1.31-1.56 2.74c-.52-.62-.89-1.23-1.13-1.7M21 20a1 1 0 0 1-1 1h-7l2-2l-.81-2.77l.92-.92L17.79 18l.71-.73l-2.69-2.68c.9-1.03 1.6-2.25 1.92-3.51H19v-1.04h-3.64V9h-1.04v1.04h-1.96L11.18 6H20a1 1 0 0 1 1 1v13Z"},null,-1),yt=[xt];function bt(s,e){return i(),_("svg",gt,yt)}var wt={name:"mdi-google-translate",render:bt};const $t=v({__name:"index",setup(s){const{locale:e}=E(),t=()=>{e.value=A.locale.value==="zh-CN"?"en":"zh-CN",A.toggleLocale()};return(n,o)=>{const a=wt;return i(),f(a,{class:"fullscreen",style:{"font-size":"1.6em"},onClick:o[0]||(o[0]=()=>t())})}}});var Mt=C($t,[["__scopeId","data-v-63419888"]]);const kt={class:"flex align-center items-center"},Et={class:"flex align-center items-center"},Ct={class:"flex items-center gap-2 justify-end h-full flex-1"},Ht=v({__name:"index",setup(s){return(e,t)=>{const n=te;return i(),f(n,{class:"border-b border-gray-200 border-solid flex justify-between",style:{"text-align":"right","font-size":"12px"}},{default:c(()=>[u("div",kt,[l(Ye)]),u("div",Et,[l(Ve)]),u("div",Ct,[l(Mt),l(ft),l(Je),l(rt)])]),_:1})}}});const St={class:"history self-start flex w-full p-1 border-b border-gray-200 border-solid"},Bt=v({__name:"index",setup(s){const e=w(0),t=R(),{t:n}=E(),o=w();return V(()=>{o.value=t.name}),(a,p)=>{const g=ne,$=oe;return i(),_("div",St,[l($,{wrap:"",size:e.value},{default:c(()=>[(i(!0),_(b,null,B(r(d).history.value,h=>(i(),f(g,{key:h.title,size:"large",type:o.value===h.route?"":"info",class:"m-1 cursor-pointer",closable:o.value!==h.route,onClose:m=>r(d).removeHistoryMenu(h),onClick:m=>a.$router.push({name:h.route})},{default:c(()=>[S(y(r(n)(h.title)),1)]),_:2},1032,["type","closable","onClose","onClick"]))),128))]),_:1},8,["size"])])}}});var Rt=C(Bt,[["__scopeId","data-v-0b6b5844"]]);const $n=v({__name:"common-page",setup(s){const e=R();return ce(e,()=>{d.addHistoryMenu(e)},{immediate:!0}),(t,n)=>{const o=re;return i(),f(o,{class:"h-screen w-full font-sans"},{default:c(()=>[l(ze),l(o,{direction:"vertical"},{default:c(()=>[l(Ht),l(Rt),l(we)]),_:1})]),_:1})}}});export{$n as default};
